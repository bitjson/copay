<div 
  class="topbar-container" 
  ng-include="'views/includes/topbar.html'"
  ng-init="titleSection='Bitcoin Network Fee Policy'; goBackToState = 'preferencesGlobal'; useTheme = true">
</div>
<ion-content class="content preferences" ng-controller="preferencesFeeController as prefFee" ng-init="prefFee.init()"
  ng-class="{'status-bar-content':index.isCordova}" ng-style="{'background':theme.view.viewBackground}">
  <h4 ng-style="{'background':theme.view.viewBackground}"></h4>
  <div class="preferences-fee" ng-show="prefFee.loading">
    <div  class="row p20 text-center">
      <div class="columns large-12 medium-12 small-12 m10b" ng-style="{'background':theme.view.progressBackground, 'color':theme.view.progressTextColor}">
        <div class="spinner">
          <div class="rect1"></div>
          <div class="rect2"></div>
          <div class="rect3"></div>
          <div class="rect4"></div>
          <div class="rect5"></div>
        </div>
      </div>
      <div class="size-12 text-gray m20t" translate>
        Loading...
      </div>
    </div>
  </div>  
  <ul class="no-bullet m0"> 
    <li ng-repeat="fee in (index.network == 'livenet' ? prefFee.feeLevels.livenet : prefFee.feeLevels.testnet)"
      ng-click="prefFee.save(fee.level)"
      ng-style="{'color':theme.view.viewPrimaryTextColor, 'background':theme.view.viewListItemBackground, 'border-bottom-color':theme.view.viewListItemSeparatorColor}">
      {{prefFee.feeOpts[fee.level]|translate}}
      <i class="fi-check size-16 right" ng-style="{'color':theme.view.viewSecondaryTextColor}" ng-show="prefFee.currentFeeLevel == fee.level"></i>

    </li>
  </ul>

  <div class="row m20t">
    <div class="text-gray size-12 text-center" ng-style="{'color':theme.view.viewSecondaryTextColor}" ng-repeat="fee in (index.network == 'livenet' ? prefFee.feeLevels.livenet :
      prefFee.feeLevels.testnet)" ng-if="fee.level == prefFee.currentFeeLevel">
      <div ng-show="fee.nbBlocks">
        <span translate>Average confirmation time: {{fee.nbBlocks * 10}} minutes</span>.
      </div>
      <span class="size-12 text-light" translate>Current fee rate for this policy: {{fee.feePerKBUnit}}/kiB</span>
    </div>
  </div>

  <div class="row m20t">
    <div class="text-gray size-12 text-center" ng-style="{'color':theme.view.viewSecondaryTextColor}" translate>
      Bitcoin transactions may include a fee collected by miners on the network. The higher the fee, the greater the incentive a miner has to include that transaction in a block. Actual fees are determined based on network load and the selected policy.
    </div>
  </div>
</ion-content>

<div class="extra-margin-bottom"></div>
